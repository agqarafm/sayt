<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mənim Linklərim</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');

        :root {
            --bg-color: #1a1a2e;
            --primary-color: #16213e;
            --secondary-color: #0f3460;
            --accent-color: #e94560;
            --font-color: #e0e0e0;
            --card-color: rgba(255, 255, 255, 0.05);
            --success-color: #4CAF50;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(45deg, var(--bg-color), var(--secondary-color));
            color: var(--font-color);
        }

        .hidden { display: none !important; }

        /* --- Login Ekranı --- */
        #login-container { background: var(--card-color); padding: 40px; border-radius: 15px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); text-align: center; animation: fadeIn 0.7s ease-out; box-shadow: 0 10px 30px rgba(0,0,0,0.2); width: 90%; max-width: 400px; }
        #login-container h1 { margin-bottom: 25px; color: #fff; font-weight: 600; }
        #login-container .input-group { position: relative; margin-bottom: 25px; }
        #login-container .input-group i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--accent-color); }
        #password-input { width: 100%; padding: 12px 12px 12px 45px; background: rgba(0,0,0,0.2); border: 1px solid var(--accent-color); border-radius: 8px; color: var(--font-color); font-size: 16px; transition: all 0.3s ease; }
        #password-input:focus { outline: none; box-shadow: 0 0 15px rgba(233, 69, 96, 0.5); }
        #login-button { width: 100%; padding: 12px; background-color: var(--accent-color); border: none; border-radius: 8px; color: #fff; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        #login-button:hover { background-color: #ff5c7a; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(233, 69, 96, 0.4); }
        #error-message { color: var(--accent-color); margin-top: 15px; height: 20px; font-weight: 500; visibility: hidden; opacity: 0; transition: opacity 0.3s ease; }
        #error-message.visible { visibility: visible; opacity: 1; }

        /* --- Ana Proqram Ekranı --- */
        #app-container { width: 90%; max-width: 700px; background: var(--card-color); padding: 30px; border-radius: 15px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 10px 30px rgba(0,0,0,0.2); animation: fadeIn 0.5s; }
        #app-container h1 { text-align: center; margin-bottom: 25px; font-weight: 600; color: #fff; }
        
        /* Naviqasiya düymələri */
        #main-nav { display: flex; gap: 10px; margin-bottom: 20px; }
        .nav-btn { flex-grow: 1; padding: 12px; font-size: 16px; font-weight: 500; border-radius: 8px; border: 1px solid var(--accent-color); background: transparent; color: var(--accent-color); cursor: pointer; transition: all 0.3s ease; }
        .nav-btn:hover { background: var(--accent-color); color: #fff; }
        .nav-btn i { margin-right: 8px; }

        /* Link əlavə etmə forması */
        #add-link-view .form-container { display: flex; flex-direction: column; gap: 15px; }
        #add-link-view input { width: 100%; padding: 12px 15px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: var(--font-color); font-size: 16px; }
        #add-link-view .form-actions { display: flex; gap: 10px; }
        #add-link-btn { background-color: var(--success-color); color: #fff; }
        
        /* Link Siyahısı */
        #link-list-container { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }
        #link-list { list-style: none; max-height: 50vh; overflow-y: auto; padding-right: 10px; }
        #link-list::-webkit-scrollbar { width: 8px; }
        #link-list::-webkit-scrollbar-thumb { background: var(--accent-color); border-radius: 10px; }

        .link-item { display: flex; align-items: center; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-bottom: 10px; animation: slideIn 0.5s forwards; opacity: 0; }
        .link-item .icon { font-size: 24px; color: var(--accent-color); margin-right: 15px; }
        .link-item a { color: var(--font-color); text-decoration: none; font-weight: 500; font-size: 1.1em; transition: color 0.3s ease; flex-grow: 1; }
        .link-item a:hover { color: var(--accent-color); }
        
        .link-actions { display: none; margin-left: auto; }
        .manage-mode .link-actions { display: flex; gap: 10px; }
        .action-btn { background: none; border: none; color: #aaa; font-size: 16px; cursor: pointer; transition: all 0.3s ease; padding: 5px; }
        .action-btn.edit-btn:hover { color: var(--success-color); transform: scale(1.2); }
        .action-btn.delete-btn:hover { color: var(--accent-color); transform: scale(1.2); }

        /* Düzəliş Modalı */
        #modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 100; display: flex; justify-content: center; align-items: center; }
        #edit-modal { background: var(--primary-color); padding: 30px; border-radius: 15px; width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid var(--accent-color); }
        #edit-modal h2 { text-align: center; margin-bottom: 20px; }
        #edit-modal .form-container { gap: 15px; }
        #edit-modal .form-actions { margin-top: 20px; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        @keyframes slideIn { to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="login-container">
        <h1><i class="fas fa-lock" style="margin-right: 10px;"></i>Təhlükəsiz Giriş</h1>
        <div class="input-group"> <i class="fas fa-key"></i> <input type="password" id="password-input" placeholder="Şifrəni daxil edin"> </div>
        <button id="login-button">Daxil Ol</button>
        <p id="error-message">Yanlış şifrə!</p>
    </div>

    <div id="app-container" class="hidden">
        <h1><i class="fas fa-link" style="margin-right: 10px;"></i>Link Bələdçisi</h1>
        
        <div id="main-nav">
            <button class="nav-btn" id="show-add-view-btn"><i class="fas fa-plus-circle"></i>Yeni Link Əlavə Et</button>
            <button class="nav-btn" id="manage-links-btn"><i class="fas fa-tasks"></i>Linkləri İdarə Et</button>
        </div>

        <div id="add-link-view" class="hidden">
            <div class="form-container">
                <input type="text" id="link-name-input" placeholder="Linkin adı...">
                <input type="text" id="link-url-input" placeholder="URL və ya fayl yolu...">
            </div>
            <div class="form-actions">
                <button class="nav-btn" id="add-link-btn"><i class="fas fa-save"></i>Yadda Saxla</button>
                <button class="nav-btn" id="cancel-add-btn"><i class="fas fa-times-circle"></i>Ləğv Et</button>
            </div>
        </div>

        <div id="link-list-container">
            <ul id="link-list"></ul>
        </div>
    </div>
    
    <div id="modal-overlay" class="hidden">
        <div id="edit-modal">
            <h2><i class="fas fa-edit"></i> Linki Redaktə Et</h2>
            <div class="form-container">
                <input type="hidden" id="edit-link-index">
                <input type="text" id="edit-name-input" placeholder="Linkin adı...">
                <input type="text" id="edit-url-input" placeholder="URL və ya fayl yolu...">
            </div>
            <div class="form-actions">
                <button class="nav-btn" id="save-edit-btn"><i class="fas fa-check-circle"></i>Dəyişikliyi Saxla</button>
                <button class="nav-btn" id="cancel-edit-btn"><i class="fas fa-times-circle"></i>Ləğv Et</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Elementlərin seçilməsi
        const loginContainer = document.getElementById('login-container');
        const appContainer = document.getElementById('app-container');
        const passwordInput = document.getElementById('password-input');
        const loginButton = document.getElementById('login-button');

        const mainNav = document.getElementById('main-nav');
        const addLinkView = document.getElementById('add-link-view');
        const linkListContainer = document.getElementById('link-list-container');
        const showAddViewBtn = document.getElementById('show-add-view-btn');
        const manageLinksBtn = document.getElementById('manage-links-btn');
        const cancelAddBtn = document.getElementById('cancel-add-btn');
        const addLinkBtn = document.getElementById('add-link-btn');
        const linkNameInput = document.getElementById('link-name-input');
        const linkUrlInput = document.getElementById('link-url-input');
        const linkList = document.getElementById('link-list');

        const modalOverlay = document.getElementById('modal-overlay');
        const editLinkIndex = document.getElementById('edit-link-index');
        const editNameInput = document.getElementById('edit-name-input');
        const editUrlInput = document.getElementById('edit-url-input');
        const saveEditBtn = document.getElementById('save-edit-btn');
        const cancelEditBtn = document.getElementById('cancel-edit-btn');

        let links = JSON.parse(localStorage.getItem('savedLinks')) || [];
        let isManageMode = false;

        // --- GÖRÜNÜŞLƏRİN İDARƏ EDİLMƏSİ ---
        const showMainView = () => {
            addLinkView.classList.add('hidden');
            mainNav.classList.remove('hidden');
            linkListContainer.classList.remove('hidden');
            loadLinks();
        };

        const showAddForm = () => {
            addLinkView.classList.remove('hidden');
            mainNav.classList.add('hidden');
            linkListContainer.classList.add('hidden');
            linkNameInput.focus();
        };
        
        showAddViewBtn.addEventListener('click', showAddForm);
        cancelAddBtn.addEventListener('click', showMainView);

        manageLinksBtn.addEventListener('click', () => {
            isManageMode = !isManageMode;
            loadLinks();
            manageLinksBtn.innerHTML = isManageMode ? `<i class="fas fa-list"></i>Siyahıya Bax` : `<i class="fas fa-tasks"></i>Linkləri İdarə Et`;
            manageLinksBtn.style.borderColor = isManageMode ? 'var(--success-color)' : 'var(--accent-color)';
            manageLinksBtn.style.color = isManageMode ? 'var(--success-color)' : 'var(--accent-color)';
        });

        // --- GİRİŞ FUNKSİYASI ---
        const handleLogin = () => {
            if (passwordInput.value === "223366") {
                loginContainer.style.display = 'none';
                appContainer.classList.remove('hidden');
                loadLinks();
            } else {
                const errorMessage = document.getElementById('error-message');
                errorMessage.classList.add('visible');
                setTimeout(() => errorMessage.classList.remove('visible'), 2000);
            }
        };
        loginButton.addEventListener('click', handleLogin);
        passwordInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleLogin(); });

        // --- LİNK ƏMƏLİYYATLARI ---
        const saveLinks = () => localStorage.setItem('savedLinks', JSON.stringify(links));

        const loadLinks = () => {
            linkList.innerHTML = '';
            linkList.classList.toggle('manage-mode', isManageMode);
            links.forEach((link, index) => {
                const li = document.createElement('li');
                li.className = 'link-item';
                li.style.animationDelay = `${index * 0.05}s`;
                
                let iconClass = link.url.startsWith('file:') || link.url.match(/^[a-zA-Z]:\\/) ? 'fa-folder-open' : 'fa-globe';
                
                li.innerHTML = `
                    <i class="icon fas ${iconClass}"></i>
                    <a href="${link.url}" target="_blank" title="${link.url}">${link.name}</a>
                    <div class="link-actions">
                        <button class="action-btn edit-btn" data-index="${index}" title="Düzəliş et"><i class="fas fa-pencil-alt"></i></button>
                        <button class="action-btn delete-btn" data-index="${index}" title="Sil"><i class="fas fa-trash-alt"></i></button>
                    </div>
                `;
                linkList.appendChild(li);
            });
        };

        addLinkBtn.addEventListener('click', () => {
            const name = linkNameInput.value.trim();
            const url = linkUrlInput.value.trim();
            if (name && url) {
                links.push({ name, url });
                saveLinks();
                linkNameInput.value = '';
                linkUrlInput.value = '';
                showMainView();
            } else {
                alert("Zəhmət olmasa hər iki xananı doldurun!");
            }
        });

        // --- SİL & DÜZƏLİŞ EVENTLƏRİ ---
        linkList.addEventListener('click', (e) => {
            const editBtn = e.target.closest('.edit-btn');
            const deleteBtn = e.target.closest('.delete-btn');
            
            if (editBtn) {
                const index = parseInt(editBtn.dataset.index, 10);
                openEditModal(index);
            }
            if (deleteBtn) {
                const index = parseInt(deleteBtn.dataset.index, 10);
                if (confirm(`'${links[index].name}' linkini silməyə əminsiniz?`)) {
                    links.splice(index, 1);
                    saveLinks();
                    loadLinks();
                }
            }
        });
        
        // --- MODAL FUNKSİYALARI ---
        const openEditModal = (index) => {
            const link = links[index];
            editLinkIndex.value = index;
            editNameInput.value = link.name;
            editUrlInput.value = link.url;
            modalOverlay.classList.remove('hidden');
        };

        const closeEditModal = () => {
            modalOverlay.classList.add('hidden');
        };

        saveEditBtn.addEventListener('click', () => {
            const index = parseInt(editLinkIndex.value, 10);
            const newName = editNameInput.value.trim();
            const newUrl = editUrlInput.value.trim();
            if (newName && newUrl) {
                links[index] = { name: newName, url: newUrl };
                saveLinks();
                loadLinks();
                closeEditModal();
            } else {
                alert("Zəhmət olmasa hər iki xananı doldurun!");
            }
        });
        
        cancelEditBtn.addEventListener('click', closeEditModal);
        modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) closeEditModal(); });

    });
    </script>
</body>
</html>
